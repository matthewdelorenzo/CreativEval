`timescale 1 ns/10 ps  // time-unit = 1 ns, precision = 10 ps

module top_module_tb;

    // duration for each bit = 20 * timescale = 20 * 1 ns  = 20ns
    localparam period = 20;

    reg [255:0] in;
    reg [7:0] sel;

    wire out;


    integer mismatch_count;

    top_module UUT (.in(in), .sel(sel), .out(out));

    initial begin
        mismatch_count = 0;

        // Tick 0: Inputs = 256'b1000100100110111010100100001001010110010110000101000010001100101010001101101111110011001100011010000011010111001011110110000110110110001111100000101011001100011100001001000010011010110000010011100000010001001010111101000000100010010000101010011010100100100, 8'b00000001, Generated = out, Reference = 1'b0
        in = 256'b1000100100110111010100100001001010110010110000101000010001100101010001101101111110011001100011010000011010111001011110110000110110110001111100000101011001100011100001001000010011010110000010011100000010001001010111101000000100010010000101010011010100100100; sel = 8'b00000001; // Set input values
        #period;
        if (!(out === 1'b0)) begin
            $display("Mismatch at index 0: Inputs = [%b, %b], Generated = [%b], Reference = [%b]", 256'b1000100100110111010100100001001010110010110000101000010001100101010001101101111110011001100011010000011010111001011110110000110110110001111100000101011001100011100001001000010011010110000010011100000010001001010111101000000100010010000101010011010100100100, 8'b00000001, out, 1'b0);
            mismatch_count = mismatch_count + 1;
        end

        else begin
            $display("Test 0 passed!");
        end

        // Tick 1: Inputs = 256'b1110001011110111100001001100010111100011001101110010010011000110011111001111110111101001111110010100011000101101111101111000110001110110110101000101011111101101000111101000110111001101001111010011101100100011111100010111011000000110110101111100110100001101, 8'b10101010, Generated = out, Reference = 1'b0
        in = 256'b1110001011110111100001001100010111100011001101110010010011000110011111001111110111101001111110010100011000101101111101111000110001110110110101000101011111101101000111101000110111001101001111010011101100100011111100010111011000000110110101111100110100001101; sel = 8'b10101010; // Set input values
        #period;
        if (!(out === 1'b0)) begin
            $display("Mismatch at index 1: Inputs = [%b, %b], Generated = [%b], Reference = [%b]", 256'b1110001011110111100001001100010111100011001101110010010011000110011111001111110111101001111110010100011000101101111101111000110001110110110101000101011111101101000111101000110111001101001111010011101100100011111100010111011000000110110101111100110100001101, 8'b10101010, out, 1'b0);
            mismatch_count = mismatch_count + 1;
        end

        else begin
            $display("Test 1 passed!");
        end

        // Tick 2: Inputs = 256'b1110001011001010010011101100010111110100000000000111101011101000111001110111011010010110110011100111100100110000011010011111001001000111111011001101101110001111100010010011001011010110000100101011101111010010011100100111011101110010101011111111011111100101, 8'b01011100, Generated = out, Reference = 1'b0
        in = 256'b1110001011001010010011101100010111110100000000000111101011101000111001110111011010010110110011100111100100110000011010011111001001000111111011001101101110001111100010010011001011010110000100101011101111010010011100100111011101110010101011111111011111100101; sel = 8'b01011100; // Set input values
        #period;
        if (!(out === 1'b0)) begin
            $display("Mismatch at index 2: Inputs = [%b, %b], Generated = [%b], Reference = [%b]", 256'b1110001011001010010011101100010111110100000000000111101011101000111001110111011010010110110011100111100100110000011010011111001001000111111011001101101110001111100010010011001011010110000100101011101111010010011100100111011101110010101011111111011111100101, 8'b01011100, out, 1'b0);
            mismatch_count = mismatch_count + 1;
        end

        else begin
            $display("Test 2 passed!");
        end

        // Tick 3: Inputs = 256'b0101010101111000010001011010101000010000011001000010000100100000110000000011101100100010100000000000010101110011100001110000101010110001111011110110001001100011101100101010011100100110011001011001011010101011010110000010110111011110100011100010100010111101, 8'b10011101, Generated = out, Reference = 1'b0
        in = 256'b0101010101111000010001011010101000010000011001000010000100100000110000000011101100100010100000000000010101110011100001110000101010110001111011110110001001100011101100101010011100100110011001011001011010101011010110000010110111011110100011100010100010111101; sel = 8'b10011101; // Set input values
        #period;
        if (!(out === 1'b0)) begin
            $display("Mismatch at index 3: Inputs = [%b, %b], Generated = [%b], Reference = [%b]", 256'b0101010101111000010001011010101000010000011001000010000100100000110000000011101100100010100000000000010101110011100001110000101010110001111011110110001001100011101100101010011100100110011001011001011010101011010110000010110111011110100011100010100010111101, 8'b10011101, out, 1'b0);
            mismatch_count = mismatch_count + 1;
        end

        else begin
            $display("Test 3 passed!");
        end

        // Tick 4: Inputs = 256'b1101011101010110001111101010111010000001000101110100101000000010111010101010011000101010110101010011010110011111110111010110101110101001101001111101011001010011100001101011110000111000000011011000100110000011101110000001001111001011001000000011111010010110, 8'b00011101, Generated = out, Reference = 1'b0
        in = 256'b1101011101010110001111101010111010000001000101110100101000000010111010101010011000101010110101010011010110011111110111010110101110101001101001111101011001010011100001101011110000111000000011011000100110000011101110000001001111001011001000000011111010010110; sel = 8'b00011101; // Set input values
        #period;
        if (!(out === 1'b0)) begin
            $display("Mismatch at index 4: Inputs = [%b, %b], Generated = [%b], Reference = [%b]", 256'b1101011101010110001111101010111010000001000101110100101000000010111010101010011000101010110101010011010110011111110111010110101110101001101001111101011001010011100001101011110000111000000011011000100110000011101110000001001111001011001000000011111010010110, 8'b00011101, out, 1'b0);
            mismatch_count = mismatch_count + 1;
        end

        else begin
            $display("Test 4 passed!");
        end

        // Tick 5: Inputs = 256'b0010000011000100101100110100000101000101001011100110000110001010011110010110100010111101111100101001111000110001010011000011110011100101011100110000101011001010000001010000100101100101000010100001000110000100010010010010001111100111110001010111001011001111, 8'b11011000, Generated = out, Reference = 1'b1
        in = 256'b0010000011000100101100110100000101000101001011100110000110001010011110010110100010111101111100101001111000110001010011000011110011100101011100110000101011001010000001010000100101100101000010100001000110000100010010010010001111100111110001010111001011001111; sel = 8'b11011000; // Set input values
        #period;
        if (!(out === 1'b1)) begin
            $display("Mismatch at index 5: Inputs = [%b, %b], Generated = [%b], Reference = [%b]", 256'b0010000011000100101100110100000101000101001011100110000110001010011110010110100010111101111100101001111000110001010011000011110011100101011100110000101011001010000001010000100101100101000010100001000110000100010010010010001111100111110001010111001011001111, 8'b11011000, out, 1'b1);
            mismatch_count = mismatch_count + 1;
        end

        else begin
            $display("Test 5 passed!");
        end

        // Tick 6: Inputs = 256'b0001010100001111110111010010101011011110011101010000001010111100010101110001010100010011101011100110001101001011111110011100011001011011000000100110010110110110011101011100010100001101111010111100010010001010000100101000100100111100001000001111001101111000, 8'b00001011, Generated = out, Reference = 1'b0
        in = 256'b0001010100001111110111010010101011011110011101010000001010111100010101110001010100010011101011100110001101001011111110011100011001011011000000100110010110110110011101011100010100001101111010111100010010001010000100101000100100111100001000001111001101111000; sel = 8'b00001011; // Set input values
        #period;
        if (!(out === 1'b0)) begin
            $display("Mismatch at index 6: Inputs = [%b, %b], Generated = [%b], Reference = [%b]", 256'b0001010100001111110111010010101011011110011101010000001010111100010101110001010100010011101011100110001101001011111110011100011001011011000000100110010110110110011101011100010100001101111010111100010010001010000100101000100100111100001000001111001101111000, 8'b00001011, out, 1'b0);
            mismatch_count = mismatch_count + 1;
        end

        else begin
            $display("Test 6 passed!");
        end

        // Tick 7: Inputs = 256'b0111100011011001100110111111000100001010101010100100101100010101101111110010001100110010011111100001110100000110001100110011101010011101110011000110000000111011001001111111001001010101010011110100001011110010010000011000010110111000100101111011111001110001, 8'b11011001, Generated = out, Reference = 1'b1
        in = 256'b0111100011011001100110111111000100001010101010100100101100010101101111110010001100110010011111100001110100000110001100110011101010011101110011000110000000111011001001111111001001010101010011110100001011110010010000011000010110111000100101111011111001110001; sel = 8'b11011001; // Set input values
        #period;
        if (!(out === 1'b1)) begin
            $display("Mismatch at index 7: Inputs = [%b, %b], Generated = [%b], Reference = [%b]", 256'b0111100011011001100110111111000100001010101010100100101100010101101111110010001100110010011111100001110100000110001100110011101010011101110011000110000000111011001001111111001001010101010011110100001011110010010000011000010110111000100101111011111001110001, 8'b11011001, out, 1'b1);
            mismatch_count = mismatch_count + 1;
        end

        else begin
            $display("Test 7 passed!");
        end

        if (mismatch_count == 0)
            $display("All tests passed!");
        else
            $display("%0d mismatches out of %0d total tests.", mismatch_count, 8);
        $finish;
    end

endmodule